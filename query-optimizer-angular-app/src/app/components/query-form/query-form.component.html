<div *ngIf="open && !valider" class="flex justify-between items-center p-4 mb-4 text-red-700 bg-red-100 rounded-lg"
    role="alert">
    <div class="flex ml-3 text-sm font-medium">
        <strong class="font-bold">We are SO sorry!</strong> It seems we weren't able to analyze this query.
    </div>
    <button (click)="openAlert(false)"
        class="ml-auto -mx-1.5 -my-1.5 bg-red-100 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex h-8 w-8">
        <fa-icon [icon]="faXmark" class="w-5 h-5" size="lg"></fa-icon>
    </button>
</div>

<div class="p-3 px-5 border rounded-xl max-h-full shadow-sm">
    <div class="font-bold text-xl mt-2 mb-4">Submit your SQL query</div>

    <div class="mb-3">
        <div class="flex items-center mb-2">
            <label for="query" class="block mb-2 text-sm font-semibold mr-3 text-gray-900">Database : </label>
            <div class="bg-white px-6 py-1.5 border rounded-lg shadow-sm">Oracle</div>
        </div>

        <div class="flex items-center mb-2">
            <label for="query" class="block mb-2 text-sm font-semibold mr-3 text-gray-900">Database version :
            </label>
            <div class="bg-white px-6 py-1.5 border rounded-lg shadow-sm">19c</div>
        </div>
    </div>
    <div class="mb-6">
        <label for="query" class="block mb-2 text-md font-medium text-gray-900">Please submit the query
            you would like to optimize:</label>
        <textarea type="text" id="query" [(ngModel)]="query" (ngModelChange)="highlightQuery()"
            class="border rounded-xl text-md focus:outline-none block w-full h-40 max-h-full p-2.5"
            placeholder=""></textarea>
    </div>
    <button (click)="verifierRequete()"
        class="font-bold text-base bg-red-500 text-white py-3 px-4 mt-3 rounded-lg hover:bg-red-400 focus:ring-4 focus:ring-red-500">Continue</button>
</div>

<app-query-optimization-report *ngIf="valider" [plans]="plans" [newPlans]="newPlans" [results]="results" [highlightedQuery]="highlightedQuery"
    [highlightedIndex]="highlightedIndex" [includeWhere]="includeWhere"></app-query-optimization-report>